<view><view class="{{['trtc-room-container '+(isFullscreenDevice?'fullscreen-device-fix':'')]}}"><block wx:if="{{template==='1v1'}}"><block><block data-type="template" data-is="1v1" data-attr="pusher, streamList, debug, enableIM"><view class="template-1v1"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{item.src&&(item.hasVideo||item.hasAudio)}}"><view class="{{['view-container player-container '+(item.isVisible?'':'none')]}}"><live-player class="player" id="{{item.streamID}}" data-userid="{{item.userID}}" data-streamid="{{item.streamID}}" data-streamtype="{{item.streamType}}" src="{{item.src}}" mode="RTC" autoplay="{{item.autoplay}}" mute-audio="{{item.muteAudio}}" mute-video="{{item.muteVideo}}" orientation="{{item.orientation}}" object-fit="{{item.objectFit}}" background-mute="{{item.enableBackgroundMute}}" min-cache="{{item.minCache}}" max-cache="{{item.maxCache}}" sound-mode="{{item.soundMode}}" enable-recv-message="{{item.enableRecvMessage}}" auto-pause-if-navigate="{{item.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player></view></block></block><view class="{{['view-container pusher-container '+(pusher.isVisible?'':'none')+' '+(streamList.length===0?'fullscreen':'')]}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" muted="{{!pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]],['audiovolumenotify',[['pusherAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e" bindaudiovolumenotify="__e"></live-pusher><block wx:if="{{streamList.length===0}}"><view class="loading"><view class="loading-img"><image class="rotate-img" src="../../static/components/trtc-room/static/loading.png"></image></view><view class="loading-text">等待接听中...</view></view></block></view><view class="handle-btns"><view data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="{{(pusher.enableMic?'../../static/components/trtc-room/static/audio-true.png':'../../static/components/trtc-room/static/audio-false.png')+' '}}"></image></view><view data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="../../static/components/trtc-room/static/switch.png"></image></view><view data-event-opts="{{[['tap',[['toggleSoundModeFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="{{(streamList[0].soundMode==='ear'?'../../static/components/trtc-room/static/phone.png':'../../static/components/trtc-room/static/speaker-true.png')+' '}}"></image></view></view><view class="bottom-btns"><view class="btn-normal" data-key="beautyLevel" data-value="9|0" data-value-type="number" data-event-opts="{{[['tap',[['setPuserPropertyFun',['$event']]]]]}}" bindtap="__e"><image class="btn-image" src="{{(pusher.beautyLevel==9?'../../static/components/trtc-room/static/beauty-true.png':'../../static/components/trtc-room/static/beauty-false.png')+' '}}"></image></view><view data-event-opts="{{[['tap',[['hangUpFun',['$event']]]]]}}" class="btn-hangup" bindtap="__e"><image class="btn-image" src="../../static/components/trtc-room/static/hangup.png"></image></view><view data-event-opts="{{[['tap',[['toggleIMPanelFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="{{enableIM?'../../static/components/trtc-room/static/im.png':'../../static/components/trtc-room/static/im-disable.png'}}"></image></view></view></view></block></block></block><block wx:if="{{template==='grid'}}"><block><block data-type="template" data-is="grid" data-attr="pusher, streamList, visibleStreamList, debug, enableIM, panelName, gridPagePlaceholderStreamList, gridPageCount, gridCurrentPage, gridPlayerPerPage, isShowMoreMenu, MICVolume, BGMVolume, BGMProgress, beautyStyle, beautyStyleArray, filterIndex, filterArray, audioReverbTypeArray"><view class="template-grid"><view class="column-layout"><view class="column-1"><view data-event-opts="{{[['touchstart',[['handleGridTouchStartFun',['$event']]]],['touchend',[['handleGridTouchEndFun',['$event']]]]]}}" class="grid-scroll-container" bindtouchstart="__e" bindtouchend="__e"><view class="{{[sbstyle]}}" id="grid-container-id"><view class="{{['view-container pusher-container '+(pusher.isVisible&&(gridCurrentPage===1&&gridPlayerPerPage>3||gridPlayerPerPage<4)?'':'none')]}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" muted="{{!pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" beauty-style="{{pusher.beautyStyle}}" filter="{{pusher.filter}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]],['audiovolumenotify',[['pusherAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e" bindaudiovolumenotify="__e"></live-pusher><block wx:if="{{!pusher.enableCamera}}"><view class="no-video"><image class="image" src="../../static/components/trtc-room/static/mute-camera-white.png"></image></view></block></view><block wx:for="{{visibleStreamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['view-container player-container '+(item.isVisible?'':'none')]}}" id="{{'player-'+item.streamID}}" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-event-opts="{{[['tap',[['doubleTabToggleFullscreenFun',['$event']]]]]}}" bindtap="__e"><live-player class="player" id="{{item.streamID}}" data-userid="{{item.userID}}" data-streamid="{{item.streamID}}" data-streamtype="{{item.streamType}}" src="{{item.src}}" mode="RTC" autoplay="{{item.autoplay}}" mute-audio="{{item.muteAudio}}" mute-video="{{item.muteVideo}}" orientation="{{item.orientation}}" object-fit="{{item.objectFit}}" background-mute="{{item.enableBackgroundMute}}" min-cache="{{item.minCache}}" max-cache="{{item.maxCache}}" sound-mode="{{item.soundMode}}" enable-recv-message="{{item.enableRecvMessage}}" auto-pause-if-navigate="{{item.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player><block wx:if="{{item.muteVideo}}"><view class="no-video"><image class="image" src="../../static/components/trtc-room/static/display-pause-white.png"></image><view class="text"><view class="_p">{{item.userID}}</view></view></view></block><block wx:if="{{!item.hasVideo&&!item.muteVideo}}"><view class="no-video"><image class="image" src="../../static/components/trtc-room/static/mute-camera-white.png"></image><view class="text"><view class="_p">{{item.userID}}</view></view><view class="text"><view class="_p">对方摄像头未打开</view></view></view></block><block wx:if="{{!item.hasAudio}}"><view class="no-audio"><image class="image" src="../../static/components/trtc-room/static/mute-mic-white.png"></image></view></block><block wx:if="{{item.hasAudio}}"><view class="audio-volume"><image class="image" src="../../static/components/trtc-room/static/micro-open.png"></image><view class="audio-active" style="{{('height:'+item.volume+'%')}}"><image class="image" src="../../static/components/trtc-room/static/audio-active.png"></image></view></view></block><view class="operation-bar"><view class="operation-item-container"><view class="operation-item" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['handleSubscribeRemoteAudioFun',['$event']]]]]}}" catchtap="__e"><image class="item-image" src="{{item.muteAudio?'../../static/components/trtc-room/static/speaker-false.png':'../../static/components/trtc-room/static/speaker-white.png'}}"></image></view><view class="operation-item" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['handleSubscribeRemoteVideoFun',['$event']]]]]}}" catchtap="__e"><image class="item-image" src="{{item.muteVideo?'../../static/components/trtc-room/static/display-pause-false.png':'../../static/components/trtc-room/static/display-play-white.png'}}"></image></view><view class="operation-item" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['toggleFullscreenFun',['$event']]]]]}}" bindtap="__e"><image class="item-image" src="../../static/components/trtc-room/static/fullscreen-white.png"></image></view></view></view></view></block><block wx:for="{{gridPagePlaceholderStreamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="view-container player-container player-placeholder"><image class="image" src="../../static/components/trtc-room/static/mute-camera-white.png"></image></view></block></view></view></view><view class="column-2"><block wx:if="{{!isShowMoreMenu}}"><view class="menu"><view data-event-opts="{{[['tap',[['switchSettingPanelFun',['$event']]]]]}}" class="menu-item" bindtap="__e"><image class="image" src="../../static/components/trtc-room/static/setting-white.png"></image></view><view data-event-opts="{{[['tap',[['switchMemberListPanelFun',['$event']]]]]}}" class="menu-item" bindtap="__e"><image class="image" src="../../static/components/trtc-room/static/list-white.png"></image></view><view data-event-opts="{{[['tap',[['hangUpFun',['$event']]]]]}}" class="menu-item" bindtap="__e"><image class="image" src="../../static/components/trtc-room/static/hangup-red.png"></image></view><view data-event-opts="{{[['tap',[['toggleIMPanelFun',['$event']]]]]}}" class="menu-item" bindtap="__e"><image class="image" src="{{enableIM?'../../static/components/trtc-room/static/im-white.png':'../../static/components/trtc-room/static/im-disable.png'}}"></image></view></view></block></view></view><block wx:if="{{gridPageCount>1}}"><view class="pages-container"><block wx:for="{{gridPageCount}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['page-item '+(index+1===gridCurrentPage?'current':'')]}}"></view></block></view></block><view class="{{['panel memberlist-panel '+(panelName==='memberlist-panel'?'':'none')]}}"><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view class="panel-header">成员列表</view><view class="panel-body"><block wx:if="{{streamList.length===0}}"><view class="panel-tips">暂无成员</view></block><scroll-view class="scroll-container" scroll-y="true"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="member-item"><view class="member-id">{{item.userID}}</view><view class="member-btns"><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-key="objectFit" data-value="fillCrop|contain" data-event-opts="{{[['tap',[['setPlayerPropertyFun',['$event']]]]]}}" bindtap="__e">{{item.objectFit==='fillCrop'?'填充':'适应'}}</button><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-key="orientation" data-value="vertical|horizontal" data-event-opts="{{[['tap',[['setPlayerPropertyFun',['$event']]]]]}}" bindtap="__e">{{item.orientation==='vertical'?'竖屏':'横屏'}}</button><block wx:if="{{item.streamType==='main'}}"><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-event-opts="{{[['tap',[['switchStreamTypeFun',['$event']]]]]}}" bindtap="__e">{{item._definitionType==='small'?'小画面':'主画面'}}</button></block><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-event-opts="{{[['tap',[['handleSnapshotClickFun',['$event']]]]]}}" bindtap="__e">截屏</button></view></view></block></scroll-view></view></view><view class="{{['panel setting-panel '+(panelName==='setting-panel'?'':'none')]}}"><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view class="panel-header">推流设置</view><view class="panel-body"><scroll-view class="scroll-container" scroll-y="true"><view class="setting-option"><view class="label">启用摄像头</view><view data-event-opts="{{[['tap',[['toggleVideoFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="{{pusher.enableCamera?'../../static/components/trtc-room/static/camera-true.png':'../../static/components/trtc-room/static/camera-false.png'}}"></image></view></view><view class="setting-option"><view class="label">启用麦克风</view><view data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="{{pusher.enableMic?'../../static/components/trtc-room/static/audio-true.png':'../../static/components/trtc-room/static/audio-false.png'}}"></image></view></view><view class="setting-option"><view class="label">切换摄像头</view><view data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image class="btn-image" src="../../static/components/trtc-room/static/switch.png"></image></view></view><view class="setting-option"><view class="label">开启美颜</view><switch class="setting-switch" color="#006eff" checked="{{pusher.beautyLevel==9?true:false}}" data-key="beautyLevel" data-value="9|0" data-value-type="number" data-event-opts="{{[['change',[['setPuserPropertyFun',['$event']]]]]}}" bindchange="__e"></switch></view><view class="setting-option"><view class="label">开启AGC</view><switch class="setting-switch" color="#006eff" checked="{{pusher.enableAgc}}" data-key="enableAgc" data-value="true" data-value-type="boolean" data-event-opts="{{[['change',[['setPuserPropertyFun',['$event']]]]]}}" bindchange="__e"></switch></view><view class="setting-option"><view class="label">开启ANS</view><switch class="setting-switch" color="#006eff" checked="{{pusher.enableAns}}" data-key="enableAns" data-value="true" data-value-type="boolean" data-event-opts="{{[['change',[['setPuserPropertyFun',['$event']]]]]}}" bindchange="__e"></switch></view><view class="setting-option"><view class="label">开启横屏推流</view><switch class="setting-switch" color="#006eff" checked="{{pusher.videoOrientation==='vertical'?false:true}}" data-key="videoOrientation" data-value="horizontal|vertical" data-value-type="string" data-event-opts="{{[['change',[['setPuserPropertyFun',['$event']]]]]}}" bindchange="__e"></switch></view></scroll-view></view></view><view class="{{['panel bgm-panel '+(panelName==='bgm-panel'?'':'none')]}}"><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view class="panel-header">背景音乐</view><view class="panel-body"><view class="setting-option"><view class="label">MIC音量</view><view class="slider-content"><slider value="{{MICVolume}}" min="0" max="100" show-value="true" activeColor="#006eff" data-property-name="MICVolume" data-event-opts="{{[['change',[['changePropertyFun',['$event']]]]]}}" bindchange="__e"></slider></view></view><view class="setting-option"><view class="label">BGM音量</view><view class="slider-content"><slider value="{{BGMVolume}}" min="0" max="100" show-value="true" activeColor="#006eff" data-property-name="BGMVolume" data-event-opts="{{[['change',[['changePropertyFun',['$event']]]]]}}" bindchange="__e"></slider></view></view><view class="setting-option"><view class="label">播放进度</view><view class="slider-content"><progress activeColor="#006eff" percent="{{BGMProgress}}"></progress></view></view><view class="menu"><view class="menu-item" data-operation-name="playBGM" data-event-opts="{{[['tap',[['handleBGMOperationFun',['$event']]]]]}}" bindtap="__e"><view class="label">播放</view></view><view class="menu-item" data-operation-name="pauseBGM" data-event-opts="{{[['tap',[['handleBGMOperationFun',['$event']]]]]}}" bindtap="__e"><view class="label">暂停</view></view><view class="menu-item" data-operation-name="resumeBGM" data-event-opts="{{[['tap',[['handleBGMOperationFun',['$event']]]]]}}" bindtap="__e"><view class="label">继续</view></view><view class="menu-item" data-operation-name="stopBGM" data-event-opts="{{[['tap',[['handleBGMOperationFun',['$event']]]]]}}" bindtap="__e"><view class="label">停止</view></view></view></view></view><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="{{['masker '+(panelName==''?'none':'')]}}" bindtap="__e"></view></view></block></block></block><block wx:if="{{template==='custom'}}"><block><block data-type="template" data-is="custom" data-attr="pusher, streamList, debug"><view class="template-custom"><view class="players-container"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{item.src&&(item.hasVideo||item.hasAudio)}}"><view class="{{['view-container player-container '+(item.isVisible?'':'none')]}}" style="{{('left:'+item.xAxis+'top:'+item.yAxis+'width:'+item.width+'height:'+item.height+'z-index:'+item.zIndex+'')}}"><live-player class="player" id="{{item.streamID}}" data-userid="{{item.userID}}" data-streamid="{{item.streamID}}" data-streamtype="{{item.streamType}}" src="{{item.src}}" mode="{{item.mode}}" autoplay="{{item.autoplay}}" mute-audio="{{item.muteAudio}}" mute-video="{{item.muteVideo}}" orientation="{{item.orientation}}" object-fit="{{item.objectFit}}" background-mute="{{item.enableBackgroundMute}}" min-cache="{{item.minCache}}" max-cache="{{item.maxCache}}" sound-mode="{{item.soundMode}}" enable-recv-message="{{item.enableRecvMessage}}" auto-pause-if-navigate="{{item.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player></view></block></block></view><view class="{{['view-container pusher-container '+(pusher.isVisible?'':'none')]}}" style="{{('left:'+pusher.xAxis+'top:'+pusher.yAxis+'width:'+pusher.width+'height:'+pusher.height+'z-index:'+pusher.zIndex+'')}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" muted="{{!pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]],['audiovolumenotify',[['pusherAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e" bindaudiovolumenotify="__e"></live-pusher></view></view></block></block></block><block wx:if="{{enableIM&&showIMPanel}}"><view class="im-panel"><view class="message-panel-body"><scroll-view class="message-scroll-container" scroll-y="true" scroll-into-view="{{'message'+(messageList.length-1)}}" scroll-with-animation="true"><view class="message-list"><block wx:for="{{messageList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="message-item" id="{{'message'+index}}"><label class="{{['_span','user-name '+(item.name==config.userID?'mine':'')]}}">{{item.name}}</label><label class="message-content _span">{{item.message}}</label></view></block><view id="message-bottom"></view></view></scroll-view></view><view class="message-panel-bottom"><view class="message-input-container"><input class="message-input" type="text" confirm-type="send" placeholder="请输入消息" maxlength="200" placeholder-style="color:#ffffff;opacity: 0.55;" data-event-opts="{{[['input',[['inputIMMessageFun',['$event']]]],['confirm',[['sendIMMessageFun',['$event']]]]]}}" value="{{messageContent}}" bindinput="__e" bindconfirm="__e"/></view><view class="message-send-btn"><button class="btn" hover-class="btn-hover" data-event-opts="{{[['tap',[['sendIMMessageFun',['$event']]]]]}}" bindtap="__e">发送</button></view></view><view data-event-opts="{{[['tap',[['toggleIMPanelFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view></view></block><view class="{{['debug-info-btn '+(debugMode&&!debugPanel?'':'none')]}}"><button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['debugTogglePanelFun',['$event']]]]]}}" bindtap="__e">Debug</button></view><view class="{{['debug-info '+(debugMode&&debugPanel?'':'none')]}}"><view data-event-opts="{{[['tap',[['debugTogglePanelFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view>{{"appVersion: "+appVersion}}</view><view>{{"libVersion: "+libVersion}}</view><view>{{"template: "+template}}</view><view>debug:<button class="{{[(debug?'':'false')+' debug-btn']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['debugToggleVideoDebugFun',['$event']]]]]}}" bindtap="__e">{{debug}}</button></view><view>{{"userID: "+pusher.userID}}</view><view>{{"roomID: "+pusher.roomID}}</view><view>camera:<button class="{{[(pusher.enableCamera?'':'false')+' debug-btn']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['toggleVideoFun',['$event']]]]]}}" bindtap="__e">{{pusher.enableCamera}}</button></view><view>mic:<button class="{{[(pusher.enableMic?'':'false')+' debug-btn']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" bindtap="__e">{{pusher.enableMic}}</button></view><view>switch camera:<button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" bindtap="__e">{{cameraPosition||pusher.frontCamera}}</button></view><view>Room:<button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['debugEnterRoomFun',['$event']]]]]}}" bindtap="__e">Enter</button><button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['debugExitRoomFun',['$event']]]]]}}" bindtap="__e">Exit</button><button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['debugGoBackFun',['$event']]]]]}}" bindtap="__e">Go back</button></view><view>IM:<button class="debug-btn" hover-class="button-hover" data-event-opts="{{[['tap',[['debugSendRandomMessageFun',['$event']]]]]}}" bindtap="__e">send</button></view><view>{{"user count: "+userList.length}}</view><block wx:for="{{userList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view>{{item.userID+"|\n\t\t\t\t\tmainV:"}}<label class="{{['_span','text '+(item.hasMainVideo?'true':'false')]}}">{{item.hasMainVideo||false}}</label>|
					mainA:<label class="{{['_span','text '+(item.hasMainAudio?'true':'false')]}}">{{item.hasMainAudio||false}}</label>|
					auxV:<label class="{{['_span','text '+(item.hasAuxVideo?'true':'false')]}}">{{item.hasAuxVideo||false}}</label></view></block><view>{{"stream count: "+streamList.length}}</view><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view>{{item.userID+"|"+item.streamType+"|\n\t\t\t\t\tSubV:"}}<button class="{{[(!item.muteVideo?'':'false')+' debug-btn']}}" hover-class="button-hover" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['debugToggleRemoteVideoFun',['$event']]]]]}}" bindtap="__e">{{!item.muteVideo}}</button>|
					SubA:<button class="{{[(!item.muteAudio?'':'false')+' debug-btn']}}" hover-class="button-hover" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['debugToggleRemoteAudioFun',['$event']]]]]}}" bindtap="__e">{{!item.muteAudio}}</button></view></block></view></view></view>