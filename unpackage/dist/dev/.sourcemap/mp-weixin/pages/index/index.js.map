{"version":3,"sources":["uni-app:///main.js","webpack:////Users/bytedance/Documents/HBuilderProjects/review_wx_applets/pages/index/index.vue?5d42","webpack:////Users/bytedance/Documents/HBuilderProjects/review_wx_applets/pages/index/index.vue?ce5b","webpack:////Users/bytedance/Documents/HBuilderProjects/review_wx_applets/pages/index/index.vue?c895","webpack:////Users/bytedance/Documents/HBuilderProjects/review_wx_applets/pages/index/index.vue?4281","uni-app:///pages/index/index.vue","webpack:////Users/bytedance/Documents/HBuilderProjects/review_wx_applets/pages/index/index.vue?f3c8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uniIcons","uniNoticeBar","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniNoticeBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar\" */ \"@/uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\">\n\t\t<!-- 刷新页面后的顶部提示框 -->\n\t\t<view class=\"tips\" :class=\"{ 'tips-ani': tipShow }\">上拉刷新...</view>\n\t\t<page-meta :root-font-size=\"footSize\"></page-meta>\n\t\t<view class=\"uni-margin-wrap\">\n\t\t\t<swiper class=\"swiper\" circular :indicator-dots=\"indicatorDots\" :autoplay=\"autoplay\" :interval=\"interval\" :duration=\"duration\">\n\t\t\t\t<swiper-item v-if=\"bannerList.length > 0\" v-for=\"item in bannerList\"  :autoplay=\"autoplay\" :interval=\"interval\" :duration=\"duration\">\n\t\t\t\t\t<image :src=\"item.imgUrl\" mode=\"scaleToFill\" :style=\"{width: `${windowWidth}px`, height: `${windowWidth/2}px`}\" />\n\t\t\t\t</swiper-item>\n\t\t\t\n\t\t\t\t<swiper-item v-if=\"bannerList.length == 0 || projectId > 0\"  :autoplay=\"autoplay\" :interval=\"interval\" :duration=\"duration\">\n\t\t\t\t\t<image :src=\"defaultBanner\" mode=\"scaleToFill\" :style=\"{width: `${windowWidth}px`, height: `${windowWidth/2}px`}\" />\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t<view class=\"notice\" v-if=\"noticeList.length > 0\">\n\t\t\t<uni-icons type=\"sound-filled\" size=\"18\" color=\"#d6b477\" style=\"margin-left: 3px;\"></uni-icons>\n\t\t\t<swiper class=\"swiper-nav\" :circular=\"true\" vertical=\"true\" :autoplay=\"true\" :interval=\"5000\" :duration=\"1000\">\n\t\t\t\t<swiper-item style=\"display: table;\"  v-for=\"(item,index) in noticeList\" :key=\"index\">\n\t\t\t\t\t<view class=\"right\" @click=\"noticeDetail(item.id)\">{{item.noticeName}}</view>\t\t\t\t\t\n\t\t\t\t</swiper-item>\n\t\t\t</swiper>\n\t\t</view>\n\t\t<uni-notice-bar v-if=\"noticeList.length == 0\" single=\"true\" text=\"暂无公告\" showIcon=\"true\" style=\"width: 100%; margin-bottom: -10px;\" background-color=\"blank\" color=\"#b9b9b8\"></uni-notice-bar>\n\t\t<view class=\"_scroll-list\" v-if=\"false\">\n\t\t\t<view class=\"savebutton\" @click=\"beginRecord\">开始录制</view>\n\t\t</view>\n\t\t<view v-for=\"(subject, index1) in subjectList\" style=\"width: 100%;\">\n\t\t\t<view class=\"_scroll-list\" v-if=\"subject.classList.length > 0\">\n\t\t\t\t<view class=\"_scroll-head\" v-if=\"subject.classList.length > 0\">\n\t\t\t\t\t<uni-icons type=\"list\" size=\"20\" color=\"#d6b477\"></uni-icons>\n\t\t\t\t\t<!-- <image src=\"@/static/ic-label.png\" mode=\"widthFix\"  style=\"width: 25rpx; height: 25rpx;\" class=\"_img\"></image> -->\n\t\t\t\t\t<text class=\"_text\">{{subject.subjectName}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"scroll-list\" v-if=\"subject.classList.length > 0\">\n\t\t\t\t<view class=\"hot\" v-for=\"(review, index2) in subject.classList\">\n\t\t\t\t\t<view class=\"hotr\" @click='beginTest(review.classId, review.title)'>\n\t\t\t\t\t\t<view class=\"hotl\">\n\t\t\t\t\t\t\t<image class=\"hotlimg\" mode=\"scaleToFill\" :src=\"review.bannerImg || defaultCover\" @error=\"imageError(index1, index2, 1)\"></image>\n\t\t\t\t\t\t\t<view class=\"title\">{{review.title}}</view>\n\t\t\t\t\t\t\t<!-- <view class=\"subtitle\">{{review.classDesc}}</view> -->\n\t\t\t\t\t\t\t<view v-if=\"review.charge==1\">\n\t\t\t\t\t\t\t\t<span class=\"iconfont\" style=\"color: #df7a58;font-size: 9px;\">&#xe606;{{review.realPrice}}</span>\n\t\t\t\t\t\t\t\t<span class=\"iconfont\" style=\"padding-left: 5px; color: #857f77;font-size: 9px;text-decoration:line-through;\" v-if=\"review.dicounPrice != '0' && review.dicounPrice != '0.00'\">&#xe606;{{review.orgPrice}}</span>\n\t\t\t\t\t\t\t\t<span style=\"padding-left: 10px; color: #857f77; font-size: 9px;\">{{review.buyCount}}人付款</span>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\n\t\t<view class=\"_scroll-list\" >\n\t\t\t<uni-notice-bar v-if=\"pCount > 0\" style=\"width: 100%;\" background-color=\"blank\" :text=\"`本次测评共由 ${pCount} 个量表组成，单个量表完成可自动进入下一个量表测评，若中途退出将重新开始测评。`\"></uni-notice-bar>\n\t\t\t<view v-if=\"pCount > 0\" class=\"savebutton\" @click=\"startTest\">开始测试</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"_scroll-list\">\n\t\t\t<view class=\"_scroll-head\">\n\t\t\t\t<uni-icons type=\"list\" size=\"20\" color=\"#d6b477\"></uni-icons>\n\t\t\t\t<text class=\"_text\">列表</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"question\" v-for=\"(reviewClass, index) in reviewClassList\">\n\t\t\t<view class=\"questionr\" @click='beginTest(reviewClass.classId, reviewClass.title)' :key=\"index\">\n\t\t\t\t<view class=\"questionl\">\n\t\t\t\t\t<image class=\"questionlimg\" mode=\"scaleToFill\" :src=\"reviewClass.bannerImg || defaultCover\" @error=\"imageError(0, index, 2)\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"width: 60%;\">\n\t\t\t\t\t<!-- <uni-icons custom-prefix=\"iconfont\" type=\"icon-qian\" size=\"30\"></uni-icons> -->\n\t\t\t\t\t<view class=\"title\">{{reviewClass.title}}</view>\n\t\t\t\t\t<view class=\"subtitle\">{{reviewClass.classDesc}}</view>\n\t\t\t\t\t<view v-if=\"reviewClass.charge==1\">\n\t\t\t\t\t\t<span class=\"iconfont\" style=\"color: #df7a58;font-size: 9px;\">&#xe606;{{reviewClass.realPrice}}</span>\n\t\t\t\t\t\t<span class=\"iconfont\" style=\"padding-left: 5px; color: #857f77;font-size: 9px;text-decoration:line-through;\" v-if=\"reviewClass.dicounPrice != '0' && reviewClass.dicounPrice != '0.00'\">&#xe606;{{reviewClass.orgPrice}}</span>\n\t\t\t\t\t\t<span style=\"padding-left: 10px; color: #857f77; font-size: 9px;\">{{reviewClass.buyCount}}人付款</span>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\t\n\t</view>\n</template>\n<script>\n\timport userCheck from '@/utils/userAction.js';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpCount: 0,\n\t\t\t\tdefaultBanner: this.$config.defaultBanner,\n\t\t\t\tdefaultCover: '../../static/default_cover.jpeg',\n\t\t\t\tautoplay: true,\n\t\t\t\tinterval: 2000,\n\t\t\t\tduration: 500,\n\t\t\t\twindowWidth: 0,\n\t\t\t\tfootSize: this.$footFontSize,\n\t\t\t\tbanner: [{'topic_id': 1, banner_img: '@/static/banner.png'}], // 轮播图\n\t\t\t\thotList: [], // 热门测试\n\t\t\t\treviewClassList: [], // 上新测试\n\t\t\t\tprojectId: 0,\n\t\t\t\ttipShow: false ,// 是否显示顶部提示框,\n\t\t\t\tprojectClassIdsObj: {},\n\t\t\t\tsubjectList: [], //测评专题列表\n\t\t\t\tnoticeList: [],\n\t\t\t\tbannerList: []\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t},\n\t\tonReady() {\n\t\t\t//获取窗口大小适配图片\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tthis.windowWidth = r.windowWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonShow() {\n\t\t\tlet projectClass = uni.getStorageSync(\"projectClass\")\n\t\t\tif(projectClass && projectClass.length > 0) {\n\t\t\t\tthis.pCount = projectClass.length\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\tthis.pCount = 0\n\t\t\t}\n\t\t},\n\t\tonShareAppMessage(res) {\n\t\t    return {\n\t\t      title: '筑心康5G+心理健康管理平台',\n\t\t      path: 'pages/index/index?source=1'\n\t\t    }\n\t\t},\n\t\tonShareTimeline() {\n\t\t\treturn {\n\t\t\t  title: '筑心康5G+心理健康管理平台',\n\t\t\t  path: 'pages/index/index?source=1'\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tuni.showShareMenu({\n\t\t\t\ttitle: '筑心康5G+心理健康管理平台',\n\t\t\t\tpath: 'pages/index/index?source=1'\n\t\t\t})\n\t\t\tif(option && option.scene) {\n\t\t\t\tlet arr = decodeURIComponent(option.scene).split(\"=\")\n\t\t\t\tif(arr.length == 2) {\n\t\t\t\t\tthis.projectId = parseInt(arr[1])\n\t\t\t\t\tuni.setStorageSync(\"projectId\", this.projectId)\n\t\t\t\t\tthis.pCount = 100\n\t\t\t\t\t//设置超时加入用户组\n\t\t\t\t\tlet that = this\n\t\t\t\t\tthis.$apis.postReviewProjectDetail({\"id\": this.projectId}).then(res => {\n\t\t\t\t\t\tif(res.code == 200) {\n\t\t\t\t\t\t\tthat.defaultBanner = that.$config.aliYunEndpoint +  res.result.cover\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t//初始化数据\n\t\t\t\t\tthis.loadData()\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tlet userData = uni.getStorageSync(\"userData\")\n\t\t\t\t\t\tlet projectId = that.projectId\n\t\t\t\t\t\tif(userData) {\n\t\t\t\t\t\t\tthat.$apis.postJoinUserGroup({\"userId\": userData.userId, \"projectId\": projectId}).then(res => {\n\t\t\t\t\t\t\t\tconsole.log(\"joinUserGroup===\" + JSON.stringify(res))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tlet userData = uni.getStorageSync(\"userData\")\n\t\t\t\t\t\t\t\tif(userData ) {\n\t\t\t\t\t\t\t\t\tthat.$apis.postJoinUserGroup({\"userId\": userData.userId, \"projectId\": projectId}).then(res => {\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"joinUserGroup===\" + JSON.stringify(res))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 500);\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t} else if(option.source && option.source == '1') {\n\t\t\t\tuni.removeStorageSync(\"projectId\")\n\t\t\t\tuni.removeStorageSync(\"projectClass\")\n\t\t\t} else {\n\t\t\t\tlet that = this\n\t\t\t\tlet pid = uni.getStorageSync(\"projectId\")\n\t\t\t\tif (pid && pid != \"\") {\n\t\t\t\t\tthis.$apis.postReviewProjectDetail({\"id\": pid}).then(res => {\n\t\t\t\t\t\tif(res.code == 200) {\n\t\t\t\t\t\t\tthat.defaultBanner = that.$config.aliYunEndpoint +  res.result.cover\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\t//初始化数据\n\t\t\tthis.loadData()\n\t\t},\n\t\tmethods: {\n\t\t\tbeginRecord() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/review/video?classId=123&title=456'\n\t\t\t\t})\n\t\t\t},\n\t\t\tnoticeDetail(id){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/index/notice_detail?id=' + id\n\t\t\t\t})\n\t\t\t},\n\t\t\t//开始测试\n\t\t\tstartTest() {\n\t\t\t\t//如果未登录且是扫二维码进来的 则跳转到第一个量表\n\t\t\t\tlet projectClass = uni.getStorageSync(\"projectClass\")\n\t\t\t\tif(projectClass && projectClass.length > 0) {\n\t\t\t\t\tlet currentClassId = uni.getStorageSync(\"currentClassId\")\n\t\t\t\t\tif (!currentClassId || currentClassId == '') {\n\t\t\t\t\t\tcurrentClassId = projectClass[0].classId\n\t\t\t\t\t}\n\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t//url: '/pages/questions/questions?classId=' + projectClass[0].classId + \"&title=\" + projectClass[0].title\n\t\t\t\t\t\turl: '/pages/report/guide?classId=' + currentClassId\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '当前用户不支持此操作'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tisProjectClass() {\n\t\t\t\tlet projectId = uni.getStorageSync(\"projectId\")\n\t\t\t\tif(projectId && projectId > 0) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tloadData(pullRefresh) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '数据加载中'\n\t\t\t\t})\n\t\t\t\tlet that = this\n\t\t\t\t//查询通知公告\n\t\t\t\tthis.$apis.postNoticeList({\"page\": 1, rows: 20}).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tthat.noticeList = res.rows\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tlet pid = uni.getStorageSync(\"projectId\")\n\t\t\t\tif(!pid || pid == 0) {\n\t\t\t\t\t//查询banner\n\t\t\t\t\tthis.$apis.postBannerList({\"page\": 1, rows: 20}).then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tthat.bannerList = []\n\t\t\t\t\t\t\tres.rows.forEach((row) => {\n\t\t\t\t\t\t\t\tif (row.imgUrl) {\n\t\t\t\t\t\t\t\t\trow.imgUrl = that.$config.aliYunEndpoint + row.imgUrl\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.bannerList.push(row)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//查询分类\n\t\t\t\tthis.$apis.postReviewClass({\"projectId\": pid}).then(res => {\n\t\t\t\t\tthis.tipShow  = false\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthat.reviewClassList = []\n\t\t\t\t\tthat.hotList = []\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tif(pullRefresh) {\n\t\t\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet projectClass = []\n\t\t\t\t\t\tres.rows.forEach((row) => {\n\t\t\t\t\t\t\tif (row.bannerImg) {\n\t\t\t\t\t\t\t\trow.bannerImg = that.$config.aliYunEndpoint + row.bannerImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(that.projectId == 0 && row.type == 2) {\n\t\t\t\t\t\t\t\tthat.hotList.push(row)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.reviewClassList.push(row)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(pid && pid > 0) {\n\t\t\t\t\t\t\t\trow.charge = 0\n\t\t\t\t\t\t\t\tprojectClass.push({\"classId\": row.classId, \"title\": row.title})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//保存到本地缓存中 共下次使用\n\t\t\t\t\t\tif (projectClass.length > 0) {\n\t\t\t\t\t\t\tuni.setStorageSync(\"projectClass\", projectClass)\n\t\t\t\t\t\t\tthat.pCount = projectClass.length\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.removeStorageSync(\"projectClass\")\n\t\t\t\t\t\t\tthat.pCount = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthat.tipShow  = false\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif(!pid || pid == 0) {\n\t\t\t\t\t//查询专题\n\t\t\t\t\tthis.$apis.postReviewSubjectClass({\"dataGrid\": {\"page\": 1, \"rows\": 4}}).then(res => {\n\t\t\t\t\t\tthat.subjectList = []\n\t\t\t\t\t\tthat.hotList = []\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tlet projectClass = []\n\t\t\t\t\t\t\tres.rows.forEach((row) => {\n\t\t\t\t\t\t\t\tif (row.classList && row.classList.length > 0) {\n\t\t\t\t\t\t\t\t\trow.classList.forEach((classInfo) => {\n\t\t\t\t\t\t\t\t\t\tif (classInfo.bannerImg) {\n\t\t\t\t\t\t\t\t\t\t\tclassInfo.bannerImg = that.$config.aliYunEndpoint + classInfo.bannerImg\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.subjectList = res.rows\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tthat.tipShow  = false\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 下拉刷新回调函数\n\t\t\t */\n\t\t\tonPullDownRefresh() {\n\t\t\t\tthis.tipShow = true\n\t\t\t\t//初始化数据\n\t\t\t\tthis.loadData(true)\n\t\t\t},\n\t\t\timageError(index1, index2, type) {\n\t\t\t\tif (type == 1) {\n\t\t\t\t\tthis.subjectList[index1].classList[index2][\"bannerImg\"] = this.defaultCover\n\t\t\t\t} else {\n\t\t\t\t\tthis.reviewClassList[index2][\"bannerImg\"] = this.defaultCover\n\t\t\t\t}\n\t\t\t},\n\t\t\tbeginTest(classid, title) {\n\t\t\t\tlet projectClass = uni.getStorageSync(\"projectClass\")\n\t\t\t\tif(projectClass && projectClass.length > 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t//跳转到当前量表\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\t//url: '/pages/questions/questions?classId='+classid + \"&title=\" + title\n\t\t\t\t\t//url: '/pages/report/guide?classId=' + classid\n\t\t\t\t\turl: '/pages/review/detail?classId=' + classid\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取用户授权  匿名数据\n\t\t\tgetUserInfo(e) {\n\t\t\t\tif (e.detail.errMsg == 'getUserInfo:ok') {\n\t\t\t\t\t//对数据进行操作\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t} else {\n\t\t\t\t\tthis.$operate.toast({\n\t\t\t\t\t\ttitle: '授权失败无法登录！'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 获取用户信息  后期放弃\n\t\t\tuserInfo() {\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess(login) {\n\t\t\t\t\t\tconsole.log(login);\n\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\tlang: 'zh_CN',\n\t\t\t\t\t\t\tsuccess(user) {\n\t\t\t\t\t\t\t\tconsole.log(user);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取用户手机号\n\t\t\tgetUserPhone(e) {\n\t\t\t\t// 获取code 小程序专有，用户登录凭证。\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess(login) {\n\t\t\t\t\t\tconsole.log(login);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(e)\n\t\t\t\t//手机号加密数据\n\t\t\t\tif (e.detail.errMsg == 'getPhoneNumber:ok') {\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t//传给后端的参数\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tsession_key: '后端返回微信 openid ',\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t\t\t\tiv: e.detail.iv,\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.$operate.toast({\n\t\t\t\t\t\ttitle: '授权失败无法登录！'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//最新登录测试\n\t\t\tgoLogin() {\n\t\t\t\t// 获取code 小程序专有，用户登录凭证。\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess(login) {\n\t\t\t\t\t\tconsole.log(login);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t // desc: '用于完善会员资料'  必填 声明获取用户个人信息后的用途，后续会展示在弹窗中\n\t\t\t\tuni.getUserProfile({\n\t\t\t\t\tdesc: '用于完善会员资料',\n\t\t\t\t\tlang: 'zh_CN',\n\t\t\t\t\tsuccess(user) {\n\t\t\t\t\t\tconsole.log(user);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n\t.notice{\n\t\tdisplay: flex;\n\t\t/* justify-content: space-around; */\n\t\tflex-flow: wrap row;\n\t\twidth: 100%;\n\t}\n\t.swiper-nav{\n\t\twidth: 90%;\n\t\theight: 30px;\n\t\tmargin-left: 8px;\n\t}\n\t.right{\n\t\ttext-overflow: -o-ellipsis-lastline;\n\t\t overflow: hidden;\n\t\t text-overflow: ellipsis;\n\t\t display: -webkit-box;\n\t\t -webkit-line-clamp: 1; //可设置显示的行数\n\t\t line-clamp: 1;\n\t\t -webkit-box-orient: vertical;\n\t\t color: #928e8e;\n\t\t font-size: 14px;\n\t}\n\t.tips {\n\t\tcolor: #67c23a;\n\t\tfont-size: 14px;\n\t\tline-height: 40px;\n\t\ttext-align: center;\n\t\tbackground-color: #f0f9eb;\n\t\theight: 0;\n\t\topacity: 0;\n\t\ttransform: translateY(-100%);\n\t\ttransition: all 0.3s;\n\t}\n\t\n\t.tips-ani {\n\t\ttransform: translateY(0);\n\t\theight: 40px;\n\t\topacity: 1;\n\t}\n\t\n\t.uni-margin-wrap {\n\t\twidth:690rpx;\n\t\twidth: 100%;;\n\t}\n\t.swiper {\n\t\theight: 400rpx;\n\t}\n\t.swiper-item {\n\t\tdisplay: block;\n\t\theight: 400rpx;\n\t\tline-height: 300rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.swiper-list {\n\t\tmargin-top: 40rpx;\n\t\tmargin-bottom: 0;\n\t}\n\t\n\t._scroll-list {\n\t\t/* padding-bottom: 20rpx; */\n\t\tborder-bottom: 20rpx solid #eee;\n\t\twidth: 100%;\n\t}\n\t._scroll-head {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-direction: row;\n\t\tjustify-content: flex-start;\n\t\theight: 100%;\n\t\tpadding: 20rpx 20rpx;\n\t}\n\t._scroll-head ._img {\n\t\tdisplay: block;\n\t\twidth: 28rpx;\n\t\theight: 28rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\t._scroll-head ._text {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #d6b477;\n\t\tpadding-left: 8px;\n\t}\n\t.scroll-list {\n\t\tdisplay: flex;\t\t\t\n\t\tjustify-content: space-around; \n\t\tflex-flow: wrap row;\n\t}\n\t.content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\n\t}\n\t.banner {\n\t\twidth: 755rpx;\n\t\theight: 522rpx;\n\t\tmargin-bottom: 60rpx;\n\t}\n\n\t.hot {\n\t\twidth: 42%;\n\t\tbackground: #fff;\n\t\tpadding: 15rpx;\n\t\tbox-shadow: 0 0 28rpx 0 rgb(155 153 146 / 18%);\n\t\tborder-radius: 50rpx;\n\t\tmargin: 18rpx auto;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t}\n\n\t.hotl .hotlimg {\n\t\twidth: 100%;\n\t\theight: 233rpx;\n\t}\n\n\t.hotr {\n\t\tpadding-left: 24rpx;\n\t\twidth: 100%;\n\t}\n\n\t.hotr .title {\n\t\tcolor: #594e3f;\n\t\tfont-size: 23rpx;\n\t\tfont-weight: 700;\n\t\ttext-overflow: -o-ellipsis-lastline;\n\t\t overflow: hidden;\n\t\t text-overflow: ellipsis;\n\t\t display: -webkit-box;\n\t\t -webkit-line-clamp: 1; //可设置显示的行数\n\t\t line-clamp: 1;\n\t\t -webkit-box-orient: vertical;\n\t}\n\n\t.hotr .subtitle {\n\t\tfont-size: 20rpx;\n\t\tcolor: #857f77;\n\t\tmargin: 20rpx 0 20rpx 0;\n\t\tline-height: 1.6;\n\t\ttext-overflow: -o-ellipsis-lastline;\n\t\t overflow: hidden;\n\t\t text-overflow: ellipsis;\n\t\t display: -webkit-box;\n\t\t -webkit-line-clamp: 3; //可设置显示的行数\n\t\t line-clamp: 3;\n\t\t -webkit-box-orient: vertical;\n\t}\n\n\t.hotr .conbottom {\n\t\twidth: 100%;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t\t-webkit-box-align: center;\n\t\t-webkit-align-items: center;\n\t\talign-items: center;\n\t\t-webkit-box-pack: justify;\n\t\t-webkit-justify-content: space-between;\n\t\tjustify-content: space-between;\n\t}\n\n\t.hotr .agescope {\n\t\tfont-size: 24rpx;\n\t\tcolor: #ff9912;\n\t}\n\n\t.hotr .testbutton {\n\t\twidth: 140rpx;\n\t\tline-height: 54rpx;\n\t\tbackground: #febd00;\n\t\tborder-radius: 27rpx;\n\t\ttext-align: center;\n\t\tfont-size: 26rpx;\n\t\tcolor: #fff;\n\t}\n\t\n\t.question {\n\t\twidth: 88%;\n\t\tbackground: #fff;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 0 28rpx 0 rgb(155 153 146 / 18%);\n\t\tborder-radius: 50rpx;\n\t\tmargin: 20rpx auto;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t}\n\t\n\t.questionl {\n\t\t width: 30%;\n\t\tpadding-right: 27px;\n\t}\n\t.questionl .questionlimg {\n\t\twidth: 233rpx;\n\t\theight: 233rpx;\n\t}\n\t\n\t.questionr {\n\t\tpadding-left: 10rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: space-around; \n\t\tflex-flow: wrap row;\n\t\twidth: 100%;\n\t}\n\t\n\t.questionr .title {\n\t\tcolor: #594e3f;\n\t\tfont-size: 23rpx;\n\t\tfont-weight: 700;\n\t\ttext-overflow: -o-ellipsis-lastline;\n\t\t overflow: hidden;\n\t\t text-overflow: ellipsis;\n\t\t display: -webkit-box;\n\t\t -webkit-line-clamp: 1; //可设置显示的行数\n\t\t line-clamp: 1;\n\t\t -webkit-box-orient: vertical;\n\t}\n\t\n\t.questionr .subtitle {\n\t\tfont-size: 20rpx;\n\t\tcolor: #857f77;\n\t\tmargin: 20rpx 0 20rpx 0;\n\t\tline-height: 1.6;\n\t\ttext-overflow: -o-ellipsis-lastline;\n\t\t overflow: hidden;\n\t\t text-overflow: ellipsis;\n\t\t display: -webkit-box;\n\t\t -webkit-line-clamp: 5; //可设置显示的行数\n\t\t line-clamp: 5;\n\t\t -webkit-box-orient: vertical;\n\t}\n\t\n\t.questionr .conbottom {\n\t\twidth: 100%;\n\t\tdisplay: -webkit-box;\n\t\tdisplay: -webkit-flex;\n\t\tdisplay: flex;\n\t\t-webkit-box-align: center;\n\t\t-webkit-align-items: center;\n\t\talign-items: center;\n\t\t-webkit-box-pack: justify;\n\t\t-webkit-justify-content: space-between;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.questionr .agescope {\n\t\tfont-size: 24rpx;\n\t\tcolor: #ff9912;\n\t}\n\t\n\t.questionr .testbutton {\n\t\twidth: 140rpx;\n\t\tline-height: 54rpx;\n\t\tbackground: #febd00;\n\t\tborder-radius: 27rpx;\n\t\ttext-align: center;\n\t\tfont-size: 26rpx;\n\t\tcolor: #fff;\n\t}\n\t\n\t.savebutton {\n\t\twidth: 622rpx;\n\t\tline-height: 90rpx;\n\t\tcolor: #594e3f;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 700;\n\t\tmargin: 40rpx auto;\n\t\ttext-align: center;\n\t\t/* background: url(../../static/savebtn.png) no-repeat 50%/100%; */\n\t\tbackground-color: #EFE4C8;\n\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}